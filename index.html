<!DOCTYPE html>
<html class="notranslate">

<head>
  <title>対称パズル</title>
  <meta charset="UTF-8">
  <meta name="google" content="notranslate">
  <meta id="viewport" name="viewport" content="width=500">

  <meta name="description" content="図形を点対称や線対称にするパズルです。">
  <meta property="og:title" content="対称パズル">
  <meta property="og:description" content="図形を点対称や線対称にするパズルです。">
  <meta name="google" content="notranslate">

  <link rel="icon" type="image/x-icon" href="./images/favicon.png?2025.03.01">
  <link rel="apple-touch-icon" sizes="152x152" href="./images/apple-touch-icon.png?2025.03.01">

  <link rel="stylesheet" href="./css/main.css?2025.03.07">
  <link rel="stylesheet" href="./css/title.css?2025.03.07">
  <link rel="stylesheet" href="./css/game.css?2025.03.07">
  <link rel="stylesheet" href="./css/dialog-help.css?2025.03.07">
  <link rel="stylesheet" href="./css/dialog-levels.css?2025.03.07">
  <link rel="stylesheet" href="./css/dialog-records.css?2025.03.07">
  <link rel="stylesheet" href="./css/dialog-shapes.css?2025.03.07">
  <link rel="stylesheet" href="./css/animation.css?2025.03.07">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&display=swap" rel="stylesheet">

  <script src="./src/states.js?2025.03.07"></script>
  <script src="./src/colors.js?2025.03.07"></script>
  <script src="./src/svg.js?2025.03.07"></script>
  <script src="./src/common.js?2025.03.07"></script>

  <script src="./src/class-stack.js?2025.03.07"></script>
  <script src="./src/class-level.js?2025.03.07"></script>
  <script src="./src/class-levels.js?2025.03.07"></script>

  <script src="./src/class-savedata.js?2025.03.07"></script>
  <script src="./src/class-undo-info.js?2025.03.07"></script>
  <script src="./src/class-elems.js?2025.03.07"></script>
  <script src="./src/class-input.js?2025.03.07"></script>

  <script src="./src/levels-line.js?2025.03.07"></script>
  <script src="./src/levels-line-ex.js?2025.03.07"></script>
  <script src="./src/levels-point.js?2025.03.07"></script>
  <script src="./src/levels-point-ex.js?2025.03.07"></script>
  <script src="./src/levels-special.js?2025.03.07"></script>
  <script src="./src/levels-special-ex.js?2025.03.07"></script>

  <script src="./src/elems.js?2025.03.07"></script>

  <script src="./src/solve.js?2025.03.07"></script>

  <script src="./src/dialog-help.js?2025.03.07"></script>
  <script src="./src/dialog-levels.js?2025.03.07"></script>
  <script src="./src/dialog-records.js?2025.03.07"></script>
  <script src="./src/dialog-shapes.js?2025.03.07"></script>

  <script src="./src/analyze-url.js?2025.03.07"></script>
  <script src="./src/main.js?2025.03.07"></script>
</head>

<body>
  <div id="contents" class="user-select-none">
    <header id="header">
      <div id="top" class="flex">
        <svg width="40" height="40" id="icon-app" class="check-mode title-page normal-mode">
          <rect x="1.5" y="1.5" rx="7.6" width="37" height="37" fill="#ffeedd" stroke="#ffbb77" stroke-width="3" />
          <image href="./images/logo-app.png?2025.03.01" width="40" height="40" />
        </svg>
        <svg width="40" height="40" id="icon-123" class="check-mode title-page num-mode hide">
          <rect x="1.5" y="1.5" rx="7.6" width="37" height="37" fill="#ffeedd" stroke="#ffbb77" stroke-width="3" />
          <image href="./images/logo-123.png?2025.03.01" width="40" height="40" />
        </svg>
        <svg width="40" height="40" id="icon-line" class="check-mode line hide-mode">
          <path fill="#ffeedd" stroke="#ffbb77" stroke-width="3" d="
          M 1.5,9.1 a 7.6,7.6 0 0 1 7.6,-7.6
          l 21.8,0 a 7.6,7.6 0 0 1 7.6,7.6
          l 0,14.2 a 15.2,15.2 0 0 1 -15.2,15.2
          l -6.6,0 a 15.2,15.2 0 0 1 -15.2,-15.2 z" />
          <image href="./images/logo-line.png?2025.03.01" width="40" height="40" />
        </svg>
        <svg width="40" height="40" id="icon-point" class="check-mode point hide-mode">
          <path fill="#ffeedd" stroke="#ffbb77" stroke-width="3" d="
          M 1.5,9.1 a 7.6,7.6 0 0 1 7.6,-7.6
          l 14.2,0 a 15.2,15.2 0 0 1 15.2,15.2
          l 0,14.2 a 7.6,7.6 0 0 1 -7.6,7.6
          l -14.2,0 a 15.2,15.2 0 0 1 -15.2,-15.2 z" />
          <image href="./images/logo-point.png?2025.03.01" width="40" height="40" />
        </svg>
        <svg width="40" height="40" id="icon-special" class="check-mode special hide-mode">
          <rect x="1.5" y="1.5" rx="11.4" width="37" height="37" fill="#ffeedd" stroke="#ffbb77" stroke-width="3" />
          <image href="./images/logo-special.png?2025.03.01" width="40" height="40" />
        </svg>

        <span id="app-title" class="title translatable-toggle check-mode title-page" data-en="Symmetry Puzzle" data-ja="対称パズル"></span>
        <span class="title translatable-toggle check-mode line hide-mode" data-en="Line Symmetry Puzzle" data-ja="線対称パズル"></span>
        <span class="title translatable-toggle check-mode point hide-mode" data-en="Point Symmetry Puzzle" data-ja="点対称パズル"></span>
        <span class="title translatable-toggle check-mode special hide-mode" data-en="Line-Point Symmetry Puzzle" data-ja="線点対称パズル"></span>

        <span id="title-version" class="normal-mode">vXXXX.XX.XX</span>
        <span class="title translatable-toggle num-mode hide title-sub" data-en="Seq. Mode" data-ja="連番モード"></span>
      </div>

      <svg width="40" height="40" style="margin: 0 0 0 auto;">
        <g id="button-help" class="button active-hover">
          <rect x="1.5" y="1.5" width="37" height="37" rx="7.6" fill="#dee4ff" stroke="#1c24ed" stroke-width="3" />
          <text x="20" y="23" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="28px" fill="#1c24ed">?</text>
        </g>
      </svg>
    </header>

    <!-- ヘルプダイアログ -->
    <dialog id="dialog-help">
      <div id="dialog-help-div">
        <div id="dialog-help-top">
          <svg width="40" height="40">
            <g id="dialog-help-close" class="button active-hover" transform="translate(20,20)">
              <circle cx="0" cy="0" r="20" fill="#dddddd" stroke="none" />
              <path d="M -8,-8 8,8" fill="none" stroke="#333333" stroke-width="4" stroke-linecap="round" />
              <path d="M -8,8 8,-8" fill="none" stroke="#333333" stroke-width="4" stroke-linecap="round" />
            </g>
          </svg>
          <button id="setting-lang-ja" class="setting-lang-button">日本語</button>
          <button id="setting-lang-en" class="setting-lang-button">English</button>
        </div>

        <div>
          <div class="tab-area">
            <!-- 対称パズル -->
            <input type="radio" name="help-tab" id="help-tab-app" checked>
            <label class="tab tab-app" for="help-tab-app">
              <img class="logo-image" src="./images/logo-app.png?2025.03.01" alt="app logo">
            </label>
            <div class="tab-app-content">
              <div class="help-mode-title flex">
                <span class="translatable-toggle" data-en="Symmetry Puzzle" data-ja="対称パズル"></span>
                <span id="dialog-help-version"></span>
              </div>

              <div>
                <p>
                  <span class="flex">
                    <svg width="55" height="50">
                      <g>
                        <image width="50" height="50" href="./images/logo-line.png?2025.03.01" />
                      </g>
                    </svg>
                    <span class="translatable-toggle help-mode-name" data-en="Line Symmetry Puzzle" data-ja="線対称パズル"></span>
                    <svg class="user-block-line"></svg>
                  </span>

                  <span>+</span>

                  <span class="flex">
                    <svg width="55" height="50">
                      <g>
                        <image width="50" height="50" href="./images/logo-point.png?2025.03.01" />
                      </g>
                    </svg>
                    <span class="translatable-toggle help-mode-name" data-en="Point Symmetry Puzzle" data-ja="点対称パズル"></span>
                    <svg class="user-block-point"></svg>
                  </span>

                  <span>+</span>

                  <span class="flex">
                    <svg width="50" height="50">
                      <g>
                        <image width="50" height="50" href="./images/logo-special.png?2025.03.01" />
                      </g>
                    </svg>
                    <span class="translatable-toggle help-mode-name" data-en="Line-Point Symmetry Puzzle" data-ja="線点対称パズル"></span>
                    <svg class="user-block-special"></svg>
                  </span>
                </p>
              </div>

              <hr>
              <div class="translatable en" lang="en">
                <p class="warn">
                  Note: This web application is in the beta phase.<br>
                  Levels will be added or removed as needed.<br>
                </p>
                <p class="warn">
                  Your progress is saved in localStorage.<br>
                  ⚠ Your data may be lost due to browser constraints.
                </p>
              </div>
              <div class="translatable ja" lang="ja">
                <p class="warn">
                  このWebアプリはベータ版（開発中）です。<br>
                  レベルの追加や変更は随時行われます。<br>
                </p>
                <p class="warn">
                  データは localStorage に保存されます。<br>
                  ⚠ブラウザの仕様によりデータが消えることがあります。
                </p>
              </div>
            </div>

            <!-- 線対称パズル -->
            <input type="radio" name="help-tab" id="help-tab-line" class="input-tab-mode-line">
            <label class="tab tab-mode tab-mode-line" for="help-tab-line">
              <img class="logo-image" src="./images/logo-line.png?2025.03.01" alt="line symmetry logo">
            </label>

            <!-- 点対称パズル -->
            <input type="radio" name="help-tab" id="help-tab-point" class="input-tab-mode-point">
            <label class="tab tab-mode tab-mode-point" for="help-tab-point">
              <img class="logo-image" src="./images/logo-point.png?2025.03.01" alt="point symmetry logo">
            </label>

            <!-- 線点対称パズル -->
            <input type="radio" name="help-tab" id="help-tab-special" class="input-tab-mode-special">
            <label class="tab tab-mode tab-mode-special" for="help-tab-special">
              <img class="logo-image" src="./images/logo-special.png?2025.03.01" alt="special symmetry logo">
            </label>

            <div class="tab-mode-content">
              <div class="help-mode-title translatable-toggle tab-mode-content-line" data-en="Line Symmetry Puzzle" data-ja="線対称パズル"></div>
              <div class="help-mode-title translatable-toggle tab-mode-content-point" data-en="Point Symmetry Puzzle" data-ja="点対称パズル">
              </div>
              <div class="help-mode-title translatable-toggle tab-mode-content-special" data-en="Line-Point Symmetry Puzzle"
                data-ja="線点対称パズル"></div>

              <div class="translatable en" lang="en">
                <p>
                  <span class="flex">
                    <span>Move</span>
                    <svg class="user-block-line tab-mode-content-line"></svg>
                    <svg class="user-block-point tab-mode-content-point"></svg>
                    <svg class="user-block-special tab-mode-content-special"></svg>
                    <span>to position</span>
                  </span>
                  <span class="flex">
                    <svg class="target-block"></svg>
                    <span>into <span class="bold">a valid shape</span>.</span>
                  </span>
                </p>

                <div class="help-mode-condition tab-mode-content-line">
                  Condition: Line symmetry
                </div>
                <div class="help-mode-condition tab-mode-content-point">
                  Condition: Point symmetry
                </div>
                <div class="help-mode-condition tab-mode-content-special">
                  Condition: Both line and point symmetry
                </div>
              </div>

              <div class="translatable ja" lang="ja">
                <p>
                  <span class="flex">
                    <svg class="user-block-line tab-mode-content-line"></svg>
                    <svg class="user-block-point tab-mode-content-point"></svg>
                    <svg class="user-block-special tab-mode-content-special"></svg>
                    <span>を操作し、</span>
                  </span>
                  <span class="flex">
                    <svg class="target-block"></svg>
                    <span>を<span class="bold">有効な図形</span>にしてください。</span>
                  </span>
                </p>

                <div class="help-mode-condition tab-mode-content-line">
                  条件: 線対称
                </div>
                <div class="help-mode-condition tab-mode-content-point">
                  条件: 点対称
                </div>
                <div class="help-mode-condition tab-mode-content-special">
                  条件: 線対称かつ点対称
                </div>
              </div>

              <div class="example-valid example-div">
                <div class="tab-mode-content-line">
                  <img class="image-example-valid-1" alt="example line symmetry" src="./images/example-valid-1-line.png?2025.03.01">
                  <img class="image-example-valid-2" alt="example line symmetry" src="./images/example-valid-2.png?2025.03.01">
                  <img class="image-example-valid-3" alt="example line symmetry" src="./images/example-valid-3-line.png?2025.03.01">
                </div>

                <div class="tab-mode-content-point">
                  <img class="image-example-valid-1" alt="example point symmetry" src="./images/example-valid-1-point.png?2025.03.01">
                  <img class="image-example-valid-2" alt="example point symmetry" src="./images/example-valid-2.png?2025.03.01">
                  <img class="image-example-valid-3" alt="example point symmetry" src="./images/example-valid-3-point.png?2025.03.01">
                </div>

                <div class="tab-mode-content-special">
                  <img class="image-example-valid-1" alt="example special symmetry" src="./images/example-valid-1-special.png?2025.03.01">
                  <img class="image-example-valid-2" alt="example special symmetry" src="./images/example-valid-2.png?2025.03.01">
                  <img class="image-example-valid-3" alt="example special symmetry" src="./images/example-valid-3-special.png?2025.03.01">
                </div>

                <span class="flex">
                  <svg width="20" height="20" class="help-example-caption-svg">
                    <g class="button active-hover">
                      <path d="M 2,12 8,18 18,4" fill="none" stroke="#55aa55" stroke-width="4" stroke-linecap="round" />
                    </g>
                  </svg>
                  <span class="bold translatable-toggle" data-en="Valid shapes" data-ja="有効な図形"></span>
                </span>
              </div>

              <div class="example-invalid example-div">
                <div class="tab-mode-content-line">
                  <img class="image-example-invalid-1" alt="example line symmetry" src="./images/example-invalid-1-line.png?2025.03.01">
                  <img class="image-example-invalid-2" alt="example line symmetry" src="./images/example-invalid-2-line.png?2025.03.01">
                </div>
                <div class="tab-mode-content-point">
                  <img class="image-example-invalid-1" alt="example point symmetry" src="./images/example-invalid-1-point.png?2025.03.01">
                  <img class="image-example-invalid-2" alt="example point symmetry" src="./images/example-invalid-2-point.png?2025.03.01">
                </div>
                <div class="tab-mode-content-special">
                  <img class="image-example-invalid-1" alt="example special symmetry"
                    src="./images/example-invalid-1-special.png?2025.03.01">
                  <img class="image-example-invalid-2" alt="example special symmetry"
                    src="./images/example-invalid-2-special.png?2025.03.01">
                </div>

                <span class="flex">
                  <svg width="20" height="20" class="help-example-caption-svg">
                    <g class="button active-hover" transform="translate(10,10)">
                      <path d="M -8,-8 8,8" fill="none" stroke="#ee5555" stroke-width="4" stroke-linecap="round" />
                      <path d="M -8,8 8,-8" fill="none" stroke="#ee5555" stroke-width="4" stroke-linecap="round" />
                    </g>
                  </svg>
                  <span class="bold translatable-toggle" data-en="Disconnected shapes are invalid." data-ja="連続していない図形は無効。"></span>
                </span>
              </div>
            </div>
          </div>
        </div>

        <hr>
        <div class="flex">
          <img class="tatt61880-icon" alt="icon: tatt61880" src="./images/tatt61880.png?2025.03.01">
          <span class="translatable-toggle help-mode-creator" data-en="Created by Tatt" data-ja="作者: Tatt">
          </span>
          <span>&nbsp;(<a href="https://twitter.com/tatt61880">@tatt61880</a>)</span>
        </div>
        <div class="translatable-toggle help-mode-tester" data-en="Tester: Hatsuki" data-ja="テスター: Hatsuki"></div>
      </div>
    </dialog>

    <!-- タイトル画面 -->
    <div id="title">
      <div id="title-inner">
        <div id="title-inner-sub">
          <table>
            <tr id="button-normals-tr">
              <td>
                <div id="button-normal-line" class="title-button">
                  <img class="animation-icon-line" src="./images/logo-line.png?2025.03.01" alt="normal line button" width="80" height="80">
                </div>
              </td>
              <td>
                <div id="button-normal-point" class="title-button">
                  <img class="animation-icon-point" src="./images/logo-point.png?2025.03.01" alt="normal point button" width="80"
                    height="80">
                </div>
              </td>
              <td>
                <div id="button-normal-special" class="title-button">
                  <img class="animation-icon-special" src="./images/logo-special.png?2025.03.01" alt="normal special button" width="80"
                    height="80">
                </div>
              </td>
            </tr>

            <tr id="button-nums-tr" class="hide">
              <td>
                <div id="button-num-line" class="title-button">
                  <img class="animation-icon-line" src="./images/logo-123.png?2025.03.01" alt="num line button" width="80" height="80">
                </div>
              </td>
              <td>
                <div id="button-num-point" class="title-button">
                  <img class="animation-icon-point" src="./images/logo-123.png?2025.03.01" alt="num point button" width="80" height="80">
                </div>
              </td>
              <td>
                <div id="button-num-special" class="title-button">
                  <img class="animation-icon-special" src="./images/logo-123.png?2025.03.01" alt="num special button" width="80"
                    height="80">
                </div>
              </td>
            </tr>

            <tr>
              <td>
                <div id="button-toggle-to-normal-div" class="hide">
                  <div id="button-toggle-to-normal" class="title-button">
                    <img src="./images/logo-app.png?2025.03.01" alt="toggle num button" width="80" height="80">
                  </div>
                </div>
                <div id="button-toggle-to-num-div">
                  <div id="button-toggle-to-num" class="title-button">
                    <img src="./images/logo-123.png?2025.03.01" alt="toggle num button" width="80" height="80">
                  </div>
                </div>
              </td>
              <td>
                <div class="flex">
                  <div id="button-records" class="title-button">
                    <svg id="button-records-svg" width="50" height="50">
                    </svg>
                  </div>
                </div>
              </td>
              <td>
              </td>
            </tr>
          </table>
          <svg class="user-block-title" height="70"></svg>
        </div>
      </div>
    </div>

    <!-- 記録ダイアログ -->
    <dialog id="dialog-records">
      <div id="dialog-records-div">
        <div id="records-top">
          <svg width="40" height="40">
            <g id="dialog-records-close" class="button active-hover" transform="translate(20,20)">
              <circle cx="0" cy="0" r="20" fill="#dddddd" stroke="none" />
              <path d="M -8,-8 8,8" fill="none" stroke="#333333" stroke-width="4" stroke-linecap="round" />
              <path d="M -8,8 8,-8" fill="none" stroke="#333333" stroke-width="4" stroke-linecap="round" />
            </g>
          </svg>
          <div class="spacer"></div>
          <div class="caption translatable-toggle" data-en="Completion Status" data-ja="クリア状況">test</div>
          <div class="spacer"></div>
          <svg width="40" height="40"></svg>
        </div>
        <div id="records-table-div">
        </div>
      </div>
    </dialog>

    <!-- ゲーム画面 -->
    <div id="game" class="hide">
      <div id="level-widget" class="inner">
        <svg width="450" height="100">
          <!-- Reset -->
          <g id="button-level-retry" class="button active-hover" transform="translate(35,50)">
            <text x="0" y="-38" fill="#7799bb" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14"
              class="translatable-toggle" data-en="RETRY" data-ja="リトライ" />
            <circle cx="0" cy="0" r="28" fill="#eef0ff" stroke="#87ceeb" stroke-width="4" />
            <path d="M -14,0 a 14,14 0 1 0 9,-12" fill="none" stroke="#87ceeb" stroke-width="4" />
            <path d="M 1,-20 l -13,9 14.5,5.2 z" fill="#87ceeb" stroke="none" />
            <text class="shortcut-key" x="0" y="42" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="16px"
              fill="#7799bb">R</text>
          </g>

          <!-- Level -->
          <g id="button-level-prev" class="button active-hover" transform="translate(95,50)">
            <text x="40" y="-38" fill="#7799bb" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14"
              class="translatable-toggle" data-en="PREV" data-ja="前" />
            <rect x="0" y="-28" rx="28" ry="28" width="80" height="56" fill="#eef0ff" stroke="#87ceeb" stroke-width="4" />
            <path d="M 50,-14 l -25,14 25,14 z" fill="#87ceeb" />
            <text class="shortcut-key" x="40" y="42" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
              fill="#7799bb">Shift ←</text>
          </g>
          <g transform="translate(225,50)">
            <text id="level-text" x="0" y="-33" fill="#335577" dominant-baseline="middle" font-weight="bold" text-anchor="middle"
              font-size="14" class="translatable-toggle" data-en="LEVEL" data-ja="レベル" />
            <text id="level-id" x="0" y="5" fill="#335577" dominant-baseline="middle" text-anchor="middle" font-size="40" />
          </g>
          <g id="button-level-next" class="button active-hover" transform="translate(275,50)">
            <text x="40" y="-38" fill="#7799bb" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14"
              class="translatable-toggle" data-en="NEXT" data-ja="次" />
            <rect x="0" y="-28" rx="28" ry="28" width="80" height="56" fill="#eef0ff" stroke="#87ceeb" stroke-width="4" />
            <path d="M 30,-14 l 25,14 -25,14 z" fill="#87ceeb" />
            <text class="shortcut-key" x="40" y="42" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
              fill="#7799bb">Shift →</text>
          </g>

          <!-- Edit -->
          <g id="button-level-edit" class="button active-hover" transform="translate(415,50)">
            <circle cx="0" cy="0" r="28" fill="#eef0ff" stroke="#87ceeb" stroke-width="4" />
            <text class="shortcut-key" x="0" y="42" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="16px"
              fill="#7799bb">@</text>
          </g>

          <!-- Levels -->
          <g id="button-levels" class="button active-hover" transform="translate(415,50)">
            <text x="0" y="-38" fill="#7799bb" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14"
              class="translatable-toggle" data-en="LEVELS" data-ja="一覧" />
            <rect x="-28" y="-28" width="56" height="56" fill="#eef0ff" stroke="#87ceeb" stroke-width="4" />
            <rect x="-22" y="-22" width="44" height="44" fill="#87ceeb" />
            <rect x="-10" y="-23" width="4" height="46" fill="#eef0ff" />
            <rect x="6" y="-23" width="4" height="46" fill="#eef0ff" />
            <rect x="-23" y="-10" width="46" height="4" fill="#eef0ff" />
            <rect x="-23" y="6" width="46" height="4" fill="#eef0ff" />
            <text class="shortcut-key" x="0" y="42" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="16px"
              fill="#7799bb">#</text>
          </g>
        </svg>
      </div>

      <!-- レベルダイアログ -->
      <dialog id="dialog-levels">
        <div id="dialog-levels-div">
          <div id="dialog-levels-top">
            <svg id="dialog-levels-close-svg" width="48" height="48">
              <g id="dialog-levels-close" class="button active-hover" transform="translate(24,24)">
                <circle cx="0" cy="0" r="24" fill="#dddddd" stroke="none" />
                <path d="M -10,-10 10,10" fill="none" stroke="#333333" stroke-width="4.5" stroke-linecap="round" />
                <path d="M -10,10 10,-10" fill="none" stroke="#333333" stroke-width="4.5" stroke-linecap="round" />
              </g>
            </svg>
            <div id="toggle-div">
              <div id="text-display" class="toggle-text translatable-toggle" data-en="Toggle Display" data-ja="表示切替">
              </div>
              <div id="show-shortest-levels-button" class="toggle-button">
                <input id="show-shortest-levels" type="checkbox" class="toggle-input">
                <label class="toggle-label" for="show-shortest-levels">
                  <svg id="crown-shortest-levels"></svg>
                </label>
              </div>
              <div id="show-cleared-levels-button" class="toggle-button">
                <input id="show-cleared-levels" type="checkbox" class="toggle-input">
                <label class="toggle-label" for="show-cleared-levels">
                  <svg id="crown-cleared-levels"></svg>
                </label>
              </div>
              <div id="show-num-mode-levels-button" class="toggle-button">
                <input id="show-num-mode-levels" type="checkbox" class="toggle-input">
                <label class="toggle-label" for="show-num-mode-levels">
                  <svg id="crown-num-mode-levels"></svg>
                </label>
              </div>
            </div>
          </div>

          <svg id="dialog-levels-svg">
          </svg>

          <svg width="450" height="90" id="button-levels-svg">
            <g id="button-levels-prev" class="button active-hover" transform="translate(95,7)">
              <text x="40" y="0" fill="#7799bb" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14"
                class="translatable-toggle" data-en="PREV" data-ja="前" />
              <rect x="0" y="10" rx="28" ry="28" width="80" height="56" fill="#eef0ff" stroke="#87ceeb" stroke-width="4" />
              <path d="M 50,24 24,38 50,52 z" fill="#87ceeb" />
              <text class="shortcut-key" x="40" y="79" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
                fill="#7799bb">Shift ←</text>
            </g>

            <g id="button-levels-next" class="button active-hover" transform="translate(275,7)">
              <text x="40" y="0" fill="#7799bb" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14"
                class="translatable-toggle" data-en="NEXT" data-ja="次" />
              <rect x="0" y="10" rx="28" ry="28" width="80" height="56" fill="#eef0ff" stroke="#87ceeb" stroke-width="4" />
              <path d="M 30,24 55,38 30,52 z" fill="#87ceeb" />
              <text class="shortcut-key" x="40" y="79" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
                fill="#7799bb">Shift →</text>
            </g>
          </svg>
        </div>
      </dialog>

      <!-- 形状ダイアログ -->
      <dialog id="dialog-shapes">
        <div id="dialog-shapes-div">
          <div id="dialog-shapes-top">
            <svg width="48" height="48">
              <g id="dialog-shapes-close" class="button active-hover" transform="translate(24,24)">
                <circle cx="0" cy="0" r="24" fill="#dddddd" stroke="none" />
                <path d="M -10,-10 10,10" fill="none" stroke="#333333" stroke-width="4.5" stroke-linecap="round" />
                <path d="M -10,10 10,-10" fill="none" stroke="#333333" stroke-width="4.5" stroke-linecap="round" />
              </g>
            </svg>
          </div>

          <svg id="dialog-shapes-svg">
          </svg>

          <svg width="450" height="90" id="button-shapes-svg">
            <g id="button-shapes-prev" class="button active-hover" transform="translate(95,7)">
              <text x="40" y="0" fill="#7799bb" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14"
                class="translatable-toggle" data-en="PREV" data-ja="前" />
              <rect x="0" y="10" rx="28" ry="28" width="80" height="56" fill="#eef0ff" stroke="#87ceeb" stroke-width="4" />
              <path d="M 50,24 24,38 50,52 z" fill="#87ceeb" />
              <text class="shortcut-key" x="40" y="79" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
                fill="#7799bb">Shift ←</text>
            </g>

            <g id="button-shapes-next" class="button active-hover" transform="translate(275,7)">
              <text x="40" y="0" fill="#7799bb" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14"
                class="translatable-toggle" data-en="NEXT" data-ja="次" />
              <rect x="0" y="10" rx="28" ry="28" width="80" height="56" fill="#eef0ff" stroke="#87ceeb" stroke-width="4" />
              <path d="M 30,24 55,38 30,52 z" fill="#87ceeb" />
              <text class="shortcut-key" x="40" y="79" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
                fill="#7799bb">Shift →</text>
            </g>
          </svg>
        </div>
      </dialog>

      <div id="main-div">
        <svg id="main-svg" width="480" height="230">
        </svg>
      </div>

      <div id="buttons-auto" class="hide">
        <svg width="80" height="60">
          <g id="button-stop" class="button" transform="translate(40,30)">
            <circle cx="0" cy="0" r="28" fill="lightgreen" stroke="green" stroke-width="4" />
            <rect x="-13" y="-13" width="26" height="26" rx="3" ry="3" fill="green" />
          </g>
        </svg>

        <svg width="80" height="60">
          <g id="button-start" class="button" transform="translate(40,30)">
            <circle cx="0" cy="0" r="28" fill="lightgreen" stroke="green" stroke-width="4" />
            <path d="M -8,-13 l 21,13 -21,13 z" fill="green" stroke="none" />
          </g>
          <g id="button-pause" class="button" transform="translate(40,30)">
            <circle cx="0" cy="0" r="28" fill="lightgreen" stroke="green" stroke-width="4" />
            <rect x="-11" y="-13" width="6" height="26" rx="3" ry="3" fill="green" />
            <rect x="5" y="-13" width="6" height="26" rx="3" ry="3" fill="green" />
          </g>
        </svg>

        <svg width="80" height="60">
          <g id="button-end" class="button" transform="translate(40,30)">
            <circle cx="0" cy="0" r="28" fill="lightgreen" stroke="green" stroke-width="4" />
            <path d="M -12,-13 l 18,13 -18,13 z" fill="green" stroke="none" />
            <rect x="6" y="-13" width="6" height="26" fill="green" />
          </g>
        </svg>

        <svg width="80" height="60">
          <g id="button-speed-down" class="button" transform="translate(40,30)">
            <circle cx="0" cy="0" r="28" fill="#ffa" stroke="darkorange" stroke-width="4" />
            <path d="M -10,-13 l 10,15 10,-15 z" fill="darkorange" stroke="none" />
            <path d="M -10,2 l 10,15 10,-15 z" fill="darkorange" stroke="none" />
          </g>
        </svg>
        <svg width="80" height="60">
          <g id="button-speed-up" class="button" transform="translate(40,30)">
            <circle cx="0" cy="0" r="28" fill="#ffa" stroke="darkorange" stroke-width="4" />
            <path d="M -10,13 l 10,-15 10,15 z" fill="darkorange" stroke="none" />
            <path d="M -10,-2 l 10,-15 10,15 z" fill="darkorange" stroke="none" />
          </g>
        </svg>
      </div>

      <div id="edit-widget">
        <svg width="490" height="220">
          <rect x="2" y="2" width="486" height="216" fill="#def" stroke="skyblue" stroke-width="4" />

          <g transform="translate(20,10) scale(1.5, 1.5)" id="edit-drawing-shape">
          </g>

          <!-- Undoボタン -->
          <g id="button-undo-edit" class="button active-hover" transform="translate(50,116) scale(1.2,1.2)">
            <g>
              <circle cx="0" cy="0" r="28" fill="lightgray" stroke="#888888" stroke-width="4" />
              <path d="M -14,0 a 14,14 0 1 0 9,-12" fill="none" stroke="#888888" stroke-width="4" />
              <path d="M 1,-20 l -13,9 14.5,5.2 z" fill="#888888" stroke="none" />
              <text class="shortcut-key" x="0" y="4" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
                fill="#888888">Z</text>
            </g>
          </g>
          <!-- Redoボタン -->
          <g id="button-redo-edit" class="button active-hover" transform="translate(440,116) scale(-1.2,1.2)">
            <g>
              <circle cx="0" cy="0" r="28" fill="lightgray" stroke="#888888" stroke-width="4" />
              <path d="M -14,0 a 14,14 0 1 0 9,-12" fill="none" stroke="#888888" stroke-width="4" />
              <path d="M 1,-20 l -13,9 14.5,5.2 z" fill="#888888" stroke="none" />
              <text class="shortcut-key" x="0" y="4" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
                fill="#888888">Y</text>
            </g>
          </g>

          <!-- 軸 -->
          <g id="edit-buttons-axis" class="button" transform="translate(440,40) scale(0.9)">
            <rect x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="#aaccff" stroke="#0000f8" stroke-width="4" />
            <rect id="edit-buttons-axis-line1" class="hide" x="-2" y="-25" width="4" height="50" fill="#0000f8" />
            <rect id="edit-buttons-axis-line2" class="hide" x="-25" y="-2" width="50" height="4" fill="#0000f8" />
            <rect id="edit-buttons-axis-line3" class="hide" x="-2" y="-25" width="4" height="50" fill="#0000f8"
              transform="rotate(-45 0 0)" />
            <rect id="edit-buttons-axis-line4" class="hide" x="-2" y="-25" width="4" height="50" fill="#0000f8"
              transform="rotate(45 0 0)" />
            <ellipse id="edit-buttons-axis-point1" class="hide" x="0" y="0" rx="6" ry="18" fill="#0000f8" />
            <rect id="edit-buttons-axis-point2" class="hide" x="-10" y="-10" width="20" height="20" fill="#0000f8"
              transform="rotate(45 0 0)" />

            <!-- エラー時などに全部の軸が表示されてしまう可能性を減らす目的 -->
            <rect class="hide" x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="#aaccff" stroke="#0000f8" stroke-width="4" />
          </g>

          <!-- 0 -->
          <g id="edit_0" class="button active-hover" transform="translate(100,20)"></g>
          <!-- x -->
          <g id="edit_x" class="button active-hover" transform="translate(150,20)"></g>

          <!-- s ～ -->
          <g id="edit_s" class="button active-hover" transform="translate(250,20)"></g>
          <g id="edit_t" class="button active-hover" transform="translate(300,20)"></g>
          <g id="edit_u" class="button active-hover" transform="translate(350,20)"></g>

          <!-- 1 ～ -->
          <g id="edit_1" class="button active-hover" transform="translate(100,70)"></g>
          <g id="edit_2" class="button active-hover" transform="translate(150,70)"></g>
          <g id="edit_3" class="button active-hover" transform="translate(200,70)"></g>
          <g id="edit_4" class="button active-hover" transform="translate(250,70)"></g>
          <g id="edit_5" class="button active-hover" transform="translate(300,70)"></g>
          <g id="edit_6" class="button active-hover" transform="translate(350,70)"></g>

          <!-- a ～ -->
          <g id="edit_a" class="button active-hover" transform="translate(100,120)"></g>
          <g id="edit_b" class="button active-hover" transform="translate(150,120)"></g>
          <g id="edit_c" class="button active-hover" transform="translate(200,120)"></g>
          <g id="edit_d" class="button active-hover" transform="translate(250,120)"></g>
          <g id="edit_e" class="button active-hover" transform="translate(300,120)"></g>
          <g id="edit_f" class="button active-hover" transform="translate(350,120)"></g>

          <g transform="translate(11,170)">
            <image href="./images/logo-line.png?2025.03.01" width="40" height="40" class="check-mode line hide-mode" />
            <image href="./images/logo-point.png?2025.03.01" width="40" height="40" class="check-mode point hide-mode" />
            <image href="./images/logo-special.png?2025.03.01" width="40" height="40" class="check-mode special hide-mode" />
          </g>

          <g transform="translate(120,190)" class="button active-hover">
            <rect id="edit-switch-mode" x="-60" y="-15" width="120" height="30" fill="#e5a0e5" stroke="#aa33aa" stroke-width="4" />
            <text x="0" y="2" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="18px" fill="#aa33aa"
              class="translatable-toggle" data-en="Switch mode" data-ja="モード変更"></text>
          </g>

          <g transform="translate(231,190)" class="button active-hover">
            <rect id="edit-mirror" x="-40" y="-15" width="80" height="30" fill="#e5a0e5" stroke="#aa33aa" stroke-width="4" />
            <text x="0" y="2" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="18px" fill="#aa33aa"
              class="translatable-toggle" data-en="Mirror" data-ja="鏡映"></text>
          </g>

          <g transform="translate(322,190)" class="button active-hover">
            <rect id="edit-rotate" x="-40" y="-15" width="80" height="30" fill="#e5a0e5" stroke="#aa33aa" stroke-width="4" />
            <text x="0" y="2" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="18px" fill="#aa33aa"
              class="translatable-toggle" data-en="Rotate" data-ja="回転"></text>
          </g>

          <g transform="translate(423,190)" class="button active-hover">
            <rect id="edit-normalize" x="-50" y="-15" width="100" height="30" fill="#e5a0e5" stroke="#aa33aa" stroke-width="4" />
            <text x="0" y="2" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="18px" fill="#aa33aa"
              class="translatable-toggle" data-en="Normalize" data-ja="正規化"></text>
          </g>
        </svg>
      </div>

      <div id="url-div">
        <span id="url"></span>
      </div>

      <div id="controller-widget" class="inner" style="height: 240px">
        <svg width="500" height="240">
          <g transform="translate(250,120)">
            <rect x="-250" y="-125" width="500" height="250" fill="#eee" stroke="none" />

            <!-- メニューボタン -->
            <g id="controller-buttons-menu" class="button active-hover" transform="translate(-185,-50)">
              <text x="0" y="-48" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="16px" fill="#888888"
                class="translatable-toggle" data-en="MENU" data-ja="メニュー"></text>
              <rect x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="lightgray" stroke="#888888" stroke-width="4" />
              <rect x="-23" y="-23" rx="5" ry="5" width="46" height="10" fill="#888888" />
              <rect x="-23" y="-5" rx="5" ry="5" width="46" height="10" fill="#888888" />
              <rect x="-23" y="13" rx="5" ry="5" width="46" height="10" fill="#888888" />
            </g>

            <!-- 形状ダイアログボタン -->
            <g id="button-shapes" class="button active-hover" transform="translate(185,-50)">
              <text x="0" y="-48" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="16px" fill="#888888"
                class="translatable-toggle" data-en="SHAPES" data-ja="形状"></text>
              <rect x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="#ffeedd" stroke="#ffbb77" stroke-width="4" />

              <text id="button-shapes-numerator" x="0" y="-14" dominant-baseline="middle" text-anchor="middle" font-weight="bold"
                font-size="30px" fill="#888888">1</text>
              <rect id="button-shapes-line" x="-23" y="-2" rx="2" ry="2" width="46" height="4" fill="#888888" />
              <text id="button-shapes-denumerator" x="0" y="20" dominant-baseline="middle" text-anchor="middle" font-weight="bold"
                font-size="30px" fill="#888888">1</text>
            </g>

            <!-- Undoボタン -->
            <g id="button-undo" class="button active-hover" transform="translate(-185,60)">
              <text x="0" y="-48" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="16px" fill="#888888"
                class="translatable-toggle" data-en="STEP BACKWARD" data-ja="1ステップ戻す"></text>
              <g transform="scale(1.2,1.2)">
                <circle cx="0" cy="0" r="28" fill="lightgray" stroke="#888888" stroke-width="4" />
                <path d="M -14,0 a 14,14 0 1 0 9,-12" fill="none" stroke="#888888" stroke-width="4" />
                <path d="M 1,-20 l -13,9 14.5,5.2 z" fill="#888888" stroke="none" />
                <text class="shortcut-key" x="0" y="4" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
                  fill="#888888">Z</text>
              </g>
            </g>
            <!-- Redoボタン -->
            <g id="button-redo" class="button active-hover" transform="translate(185,60)">
              <text x="0" y="-48" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="16px" fill="#888888"
                class="translatable-toggle" data-en="STEP FORWARD" data-ja="1ステップ進める"></text>
              <g transform="scale(-1.2,1.2)">
                <circle cx="0" cy="0" r="28" fill="lightgray" stroke="#888888" stroke-width="4" />
                <path d="M -14,0 a 14,14 0 1 0 9,-12" fill="none" stroke="#888888" stroke-width="4" />
                <path d="M 1,-20 l -13,9 14.5,5.2 z" fill="#888888" stroke="none" />
                <text class="shortcut-key" x="0" y="4" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="14px"
                  fill="#888888">Y</text>
              </g>
            </g>

            <!-- 操作ボタン -->
            <g id="controller-buttons-root">
              <g id="controller-buttons-base" transform="translate(0,0)">
                <!-- ↑ -->
                <g id="controller-buttons-up" class="button" transform="translate(0,-80)">
                  <rect x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="#aaccff" stroke="#0000f8" stroke-width="4" />
                  <polygon transform="rotate(0 0 0)" points="0,-21 10,0 3,0 3,21 -3,21 -3,0 -10,0" fill="#0000f8" />
                </g>
                <!-- → -->
                <g id="controller-buttons-right" class="button" transform="translate(80,0)">
                  <rect x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="#aaccff" stroke="#0000f8" stroke-width="4" />
                  <polygon transform="rotate(90 0 0)" points="0,-21 10,0 3,0 3,21 -3,21 -3,0 -10,0" fill="#0000f8" />
                </g>
                <!-- ↓ -->
                <g id="controller-buttons-down" class="button" transform="translate(0,80)">
                  <rect x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="#aaccff" stroke="#0000f8" stroke-width="4" />
                  <polygon transform="rotate(180 0 0)" points="0,-21 10,0 3,0 3,21 -3,21 -3,0 -10,0" fill="#0000f8" />
                </g>
                <!-- ← -->
                <g id="controller-buttons-left" class="button" transform="translate(-80,0)">
                  <rect x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="#aaccff" stroke="#0000f8" stroke-width="4" />
                  <polygon transform="rotate(270 0 0)" points="0,-21 10,0 3,0 3,21 -3,21 -3,0 -10,0" fill="#0000f8" />
                </g>
                <!-- 軸 -->
                <g id="controller-buttons-axis" class="button" transform="translate(0,0)">
                  <rect x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="#aaccff" stroke="#0000f8" stroke-width="4" />
                  <rect id="controller-buttons-axis-line1" class="hide" x="-2" y="-25" width="4" height="50" fill="#0000f8" />
                  <rect id="controller-buttons-axis-line2" class="hide" x="-25" y="-2" width="50" height="4" fill="#0000f8" />
                  <rect id="controller-buttons-axis-line3" class="hide" x="-2" y="-25" width="4" height="50" fill="#0000f8"
                    transform="rotate(-45 0 0)" />
                  <rect id="controller-buttons-axis-line4" class="hide" x="-2" y="-25" width="4" height="50" fill="#0000f8"
                    transform="rotate(45 0 0)" />
                  <ellipse id="controller-buttons-axis-point1" class="hide" x="0" y="0" rx="6" ry="18" fill="#0000f8" />
                  <rect id="controller-buttons-axis-point2" class="hide" x="-10" y="-10" width="20" height="20" fill="#0000f8"
                    transform="rotate(45 0 0)" />

                  <!-- エラー時などに全部の軸が表示されてしまう可能性を減らす目的 -->
                  <rect class="hide" x="-35" y="-35" rx="12" ry="12" width="70" height="70" fill="#aaccff" stroke="#0000f8"
                    stroke-width="4" />
                </g>
              </g>

              <g id="next-level" class="button active-hover hide" transform="translate(0,0)">
                <rect x="-115" y="-35" rx="12" ry="12" width="230" height="70" fill="#aaccff" stroke="#0000f8" stroke-width="4" />
                <text x="0" y="2" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="24px" fill="#0000f8"
                  class="translatable-toggle" data-en="NEXT LEVEL" data-ja="次のレベルへ"></text>
              </g>
            </g>

            <g id="controller-menu" class="hide">
              <g>
                <rect x="-125" y="-120" width="250" height="240" fill="#eee" stroke="none" />
              </g>
              <g id="controller-buttons-title" class="button active-hover" transform="translate(0,-40)">
                <rect x="-120" y="-25" rx="10" ry="10" width="240" height="50" fill="lightgray" stroke="#888888" stroke-width="4" />
                <text x="0" y="2" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="22px" fill="#888888"
                  class="translatable-toggle" data-en="RETURN TO TITLE" data-ja="タイトル画面に戻る"></text>
              </g>
              <g id="controller-buttons-retry" class="button active-hover" transform="translate(0,40)">
                <rect x="-120" y="-25" rx="10" ry="10" width="240" height="50" fill="lightgray" stroke="#888888" stroke-width="4" />
                <text x="0" y="2" dominant-baseline="middle" text-anchor="middle" font-weight="bold" font-size="22px" fill="#888888"
                  class="translatable-toggle" data-en="RETRY" data-ja="リトライ"></text>
              </g>
            </g>
          </g>
        </svg>
      </div>

      <div id="console-widget" class="hide">
        <div style="font-weight: bold;">Console for debugging</div>
        <img src="#" alt="console image" id="console-image">
        <ul id="console-log"></ul>
      </div>
    </div>

    <footer id="footer">
      <span class="translatable-toggle" data-en="&quot;Symmetry Puzzle&quot; tatt61880" data-ja="『対称パズル』 tatt61880"></span>
      <!-- <svg class="user-block-right"></svg> -->
    </footer>
  </div>
</body>

</html>
